function toggleActive(a){a&&(a.classList.contains("active")?a.classList.remove("active"):a.classList.add("active"))}function getNavData(){var a=new XMLHttpRequest;a.open("GET","/api/nav.json",!0),a.onload=function(){if(4==a.readyState)if(a.status>=200&&a.status<400||-1==window.location.href.indexOf("http")){var b=JSON.parse(a.response),c=b.items;createList(c,document.getElementById("sidebar").querySelector(".nav-wrapper"),!1)}else console.log("There's an error calling the service")},a.onerror=function(a){console.log("There's an error calling the service: "+a)},a.send()}function createList(a,b,c){var d=document.createElement("ul");d.className=c?"menu":"";for(var e=0;e<a.length;e++){var f=a[e].items&&a[e].items.length>0?!0:!1,g=document.createDocumentFragment(),h=document.createElement("li"),i=document.createElement("a");i.textContent=a[e].label,i.href=a[e].url,h.className=f?"sub-menu":"",h.appendChild(i),d.appendChild(h),f&&(createList(a[e].items,h,!0),i.addEventListener("mouseup",function(){var a=document.getElementById("sidebar").querySelector(".sub-menu.active");a?this.closest("li")==a?(toggleActive(this.closest("li")),toggleActive(this.closest("li").querySelector(".menu"))):(toggleActive(this.closest("li")),toggleActive(this.closest("li").querySelector(".menu")),toggleActive(a),toggleActive(a.querySelector(".menu"))):(toggleActive(this.closest("li")),toggleActive(this.closest("li").querySelector(".menu")))}))}g.appendChild(d),b.appendChild(g)}document.addEventListener("DOMContentLoaded",function(){getNavData(),document.getElementById("sidebar-trigger").addEventListener("mouseup",function(){var a=document.getElementsByClassName("push-right");toggleActive(document.getElementById("sidebar-trigger")),toggleActive(document.getElementById("logo"));for(var b=0;b<a.length;b++)toggleActive(a[b]);var c=document.getElementById("overlay"),d=document.getElementById("main-content");if(c)d.removeChild(c);else{var d=document.getElementById("main-content"),e=document.createDocumentFragment(),f=document.createElement("div");f.id="overlay",e.appendChild(f),d.appendChild(e)}})});
